<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„Ø·Ù‚Ø³ | Ù†Ø¸Ø§ÙØ© Ø¨Ø±Ùˆ</title>
    <meta name="description" content="Ù…ØªØ§Ø¨Ø¹Ø© Ø£Ø­ÙˆØ§Ù„ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„ØªÙˆÙ‚Ø¹Ø§Øª Ù„ØªØ®Ø·ÙŠØ· Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ø¨ÙƒÙØ§Ø¡Ø©">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root{
            --primary:#1a4d8f;
            --primary-dark:#0f2e56;
            --accent:#d4af37;
            --bg:#f8f9fb;
            --card:#ffffff;
            --border:#e0e4e8;
            --muted:#5a5a5a;
            --shadow:0 8px 30px rgba(12,24,44,0.08);
        }
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:"Cairo",sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;color:#111;direction:rtl;padding:2rem}
        .container{max-width:1100px;margin:0 auto}
        .weather-header{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:var(--shadow);text-align:center}
        .weather-header h1{color:var(--primary);font-weight:900}
        .search-section{background:#fff;padding:1rem;border-radius:12px;margin-top:1rem;box-shadow:var(--shadow)}
        .search-box{display:flex;gap:.75rem;max-width:720px;margin:0 auto}
        .search-input{flex:1;padding:.9rem;border:2px solid var(--border);border-radius:8px;font-size:1rem}
        .search-btn{padding:.9rem 1.2rem;background:var(--primary);color:#fff;border:none;border-radius:8px;font-weight:800;cursor:pointer}
        .popular-cities{display:flex;gap:.5rem;justify-content:center;margin-top:.8rem;flex-wrap:wrap}
        .city-tag{background:var(--card);padding:.45rem .9rem;border-radius:999px;border:1px solid var(--border);cursor:pointer}
        .current-weather{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;padding:2rem;border-radius:12px;margin-top:1rem;box-shadow:var(--shadow);text-align:center}
        .city-name{font-weight:900;font-size:1.6rem}
        .temperature-large{font-size:3rem;font-weight:900;margin-top:.5rem}
        .weather-desc{opacity:.95}
        .details-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:1rem;margin-top:1rem}
        .detail{background:rgba(255,255,255,0.08);padding:1rem;border-radius:8px}
        .forecast-section{background:#fff;padding:1rem;border-radius:12px;margin-top:1rem;box-shadow:var(--shadow)}
        .forecast-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:1rem}
        .forecast-card{background:var(--bg);padding:1rem;border-radius:8px;text-align:center;border:1px solid var(--border)}
        .loading{text-align:center;color:#fff;padding:2rem}
        .error{background:#dc3545;color:#fff;padding:1rem;border-radius:8px;text-align:center;margin-top:1rem}
        @media(max-width:700px){.search-box{flex-direction:column}}
    </style>
</head>
<body>
    <div class="container">
        <div class="weather-header">
            <h1>ğŸŒ¤ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø·Ù‚Ø³</h1>
            <p class="muted">ØªØ§Ø¨Ø¹ Ø£Ø­ÙˆØ§Ù„ Ø§Ù„Ø·Ù‚Ø³ Ù„ØªØ®Ø·ÙŠØ· Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ø¨ÙƒÙØ§Ø¡Ø©</p>
            <a href="index-ar.html" style="color:var(--primary);font-weight:800">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬</a>
        </div>

        <div class="search-section">
            <div class="search-box">
                <input id="cityInput" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¯ÙŠÙ†Ø© (Ù…Ø«Ø§Ù„: Riyadh, Jeddah, Dubai)" />
                <button class="search-btn" onclick="searchCity()">ğŸ” Ø¨Ø­Ø«</button>
            </div>
            <div class="popular-cities" style="margin-top:.8rem">
                <span class="city-tag" onclick="loadWeather('Riyadh')">Ø§Ù„Ø±ÙŠØ§Ø¶</span>
                <span class="city-tag" onclick="loadWeather('Jeddah')">Ø¬Ø¯Ø©</span>
                <span class="city-tag" onclick="loadWeather('Dubai')">Ø¯Ø¨ÙŠ</span>
                <span class="city-tag" onclick="loadWeather('Dammam')">Ø§Ù„Ø¯Ù…Ø§Ù…</span>
                <span class="city-tag" onclick="loadWeather('Mecca')">Ù…ÙƒØ©</span>
            </div>
        </div>

        <div id="errorMessage" class="error" style="display:none"></div>
        <div id="loading" class="loading" style="display:none">â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù‚Ø³...</div>

        <div id="currentWeather" class="current-weather" style="display:none">
            <div class="city-name" id="cityName">-</div>
            <div class="temperature-large" id="temperature">-Â°C</div>
            <div class="weather-desc" id="weatherDesc">-</div>
            <div class="details-grid" style="margin-top:1rem">
                <div class="detail"><div class="muted">Ø§Ù„Ø±Ø·ÙˆØ¨Ø©</div><div id="humidity">- %</div></div>
                <div class="detail"><div class="muted">Ø§Ù„Ø±ÙŠØ§Ø­</div><div id="windSpeed">- ÙƒÙ…/Ø³</div></div>
                <div class="detail"><div class="muted">Ø§Ù„Ø¶ØºØ·</div><div id="pressure">- Ù‡ÙƒØªÙˆØ¨Ø§Ø³ÙƒØ§Ù„</div></div>
                <div class="detail"><div class="muted">Ø§Ù„Ø±Ø¤ÙŠØ©</div><div id="visibility">- ÙƒÙ…</div></div>
            </div>
        </div>

        <div id="forecastSection" class="forecast-section" style="display:none">
            <h3 style="color:var(--primary);font-weight:900">ØªÙˆÙ‚Ø¹Ø§Øª Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</h3>
            <div id="forecastGrid" class="forecast-grid" style="margin-top:1rem"></div>
        </div>
    </div>

    <script>
        const API_KEY = 'YOUR_API_KEY_HERE'; // Ø¶Ø¹ Ù…ÙØªØ§Ø­ OpenWeatherMap Ù‡Ù†Ø§
        const BASE = 'https://api.openweathermap.org/data/2.5';
        const icons = {'01d':'â˜€ï¸','01n':'ğŸŒ™','02d':'â›…','02n':'â˜ï¸','03d':'â˜ï¸','03n':'â˜ï¸','04d':'â˜ï¸','09d':'ğŸŒ§ï¸','10d':'ğŸŒ¦ï¸','11d':'â›ˆï¸','13d':'â„ï¸','50d':'ğŸŒ«ï¸'};

        window.addEventListener('load', ()=> loadWeather('Riyadh'));
        function searchCity(){ const c = document.getElementById('cityInput').value.trim(); if(c) loadWeather(c); else showError('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©'); }
        async function loadWeather(city){
            hideError(); showLoading();
            try{
                const cur = await fetch(`${BASE}/weather?q=${encodeURIComponent(city)}&appid=${API_KEY}&units=metric&lang=ar`);
                if(!cur.ok) throw new Error('Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
                const cdata = await cur.json();
                displayCurrent(cdata);
                const f = await fetch(`${BASE}/forecast?q=${encodeURIComponent(city)}&appid=${API_KEY}&units=metric&lang=ar`);
                const fdata = await f.json();
                displayForecast(fdata);
            }catch(e){ showError('Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… Ù†ØªÙ…ÙƒÙ† Ù…Ù† Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù‚Ø³. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ÙˆÙ…ÙØªØ§Ø­ Ø§Ù„Ù€ API.'); console.error(e); }
            finally{ hideLoading(); }
        }
        function displayCurrent(d){
            document.getElementById('cityName').textContent = d.name;
            document.getElementById('temperature').textContent = Math.round(d.main.temp) + 'Â°C';
            document.getElementById('weatherDesc').textContent = d.weather[0].description + ' ' + (icons[d.weather[0].icon]||'');
            document.getElementById('humidity').textContent = d.main.humidity + '%';
            document.getElementById('windSpeed').textContent = Math.round(d.wind.speed*3.6) + ' ÙƒÙ…/Ø³';
            document.getElementById('pressure').textContent = d.main.pressure + ' Ù‡ÙƒØªÙˆØ¨Ø§Ø³ÙƒØ§Ù„';
            document.getElementById('visibility').textContent = (d.visibility/1000).toFixed(1) + ' ÙƒÙ…';
            document.getElementById('currentWeather').style.display='block';
        }
        function displayForecast(d){
            const grid = document.getElementById('forecastGrid'); grid.innerHTML='';
            const list = d.list.filter(item => item.dt_txt.includes('12:00:00')).slice(0,5);
            list.forEach(item=>{
                const date = new Date(item.dt*1000);
                const day = date.toLocaleDateString('ar-SA',{weekday:'long'});
                const card = document.createElement('div'); card.className='forecast-card';
                card.innerHTML = `<div style="font-weight:800;color:var(--primary)">${day}</div>
                                  <div style="font-size:2rem">${icons[item.weather[0].icon]||''}</div>
                                  <div style="font-weight:900">${Math.round(item.main.temp)}Â°C</div>
                                  <div class="muted">${item.weather[0].description}</div>`;
                grid.appendChild(card);
            });
            document.getElementById('forecastSection').style.display='block';
        }
        function showLoading(){document.getElementById('loading').style.display='block'; document.getElementById('currentWeather').style.display='none'; document.getElementById('forecastSection').style.display='none';}
        function hideLoading(){document.getElementById('loading').style.display='none';}
        function showError(msg){ const e=document.getElementById('errorMessage'); e.textContent=msg; e.style.display='block';}
        function hideError(){document.getElementById('errorMessage').style.display='none';}
    </script>
</body>
</html>